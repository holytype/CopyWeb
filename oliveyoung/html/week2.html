<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>회원가입</title>

<style>
* {
	box-sizing: border-box;
}

body{
	background: skyblue;
}


.wrap{
	 width: 100%;
     height: 100%;
     
}

form {
    margin: 0 auto;
    width: 300px;
	 height: 100%;
	 border: 1px solid black;
	 padding: 60px 10px 10px 10px;
	 background: bisque;
     display: flex;
     flex-direction: column;
     transform: translateY(50%);
}

.list{
	display: flex;
	flex-direction: row;
	justify-content: space-between;
    position: relative;
}

.list span:first-child, .list:nth-of-type(5) {
    margin-top: 10px;
}

input[type=text] {
    width: 160px;
    outline: none;
}

.list:nth-of-type(4) input {
	width: 72px;
}

.list:nth-of-type(4) div {
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
}

.list:nth-of-type(4) div span {
    align-self: flex-end;
} 

input:not([type=submit]) {
	border: 0;
	background: bisque;
	border-bottom: dashed;
}

label {
    font-size: 7px;
    height: 10px;
    width: 100%;
    margin-top: 5px;
    padding-left: 120px;
}

input[type=submit] {
    width: 100%;
    background: greenyellow;
    height: 40px;
    margin-top: 10px;
}

.adress_wrap {
    display: flex;
    flex-direction: column;
}

.adress_wrap input {
    margin-top: 20px;
}

</style>

</head>
<body>
	<div class="wrap">
		<form action="#" method="post">
			<div class="list">
				<span>아이디</span>
				<input type="text" id="id" autocomplete="off" spellcheck="false">
			</div>
            <label for="id"></label>
			<div class="list">
				<span>패스워드</span>
				<input type="text" id="ps" autocomplete="off" spellcheck="false">
			</div>
            <label for="ps"></label>
			<div class="list">
				<span>패스워드 확인</span>
				<input type="text" id="ps_check" autocomplete="off" spellcheck="false">
			</div>
            <label for="ps_check"></label>
			<div class="list">
				<span>이메일</span>
                <div>
                    <input type="text" autocomplete="off" spellcheck="false">
                    <span>@</span>
                    <input type="text" autocomplete="off" spellcheck="false">
                </div>
			</div>
			<div class="list">
				<span>주소</span>
                <div class="adress_wrap">
                    <input type="text"  name="adress" autocomplete="off" spellcheck="false">
                    <input type="text"  name="adress" autocomplete="off" spellcheck="false">
                </div>
			</div>
			<div class="list">
				<span></span>
				<input type="submit" value="가 입">
			</div>
		</form>
	</div>
	
	<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
	<script>
        $(loadedHandler);
        function loadedHandler() {
            $("#id").on("blur",function(){
                requiredCheck(this);
            });

            $("#ps").on("click",function(){      

                if($(this).val().length<7||$(this).val().length>21){
                    $("[for='ps']").text("영문자 대/소문자 특수만자, 숫자 포함 8~22자");
                }
            });

            $("#ps").on("input",function(){
                if($(this).val().length<8||$(this).val().length>22){
                    $("[for='ps']").text("영문자 대/소문자 특수만자, 숫자 포함 8~22자");
                    
                } else {
                    $("[for='ps']").text("");

                }
            });

            $("#ps").on("blur",function(){
                var inputText=$(this).val();
                var regex = /^[a-zA-Z0-9!@#$%^&*]{8,32}$/;
                
                if(inputText.length==0){
                    console.log($("[for="+$(this).attr("id")+"]").text());
                    $("[for='"+$(this).attr("id")+"']").text("필수 입력 항목 입니다");
                }else if(!regex.test(inputText)){
                    $('[for="'+$(this).attr("id")+'"]').text("영문자 대/소문자 특수만자, 숫자 포함 8~22자");
                }
            });


            $("#ps_check").on("blur",function(){
                requiredCheck(this);
            })

        }

        /**
         * this를 넣는다.
        */
        function requiredCheck(input){
            if($(input).val().length==0){
                    $("[for='"+$(input).attr("id")+"']").text("필수 입력 항목 입니다");
                } else {
                    $(`[for='${$(input).attr("id")}']`).text("");
                }
        }
	</script>
</body>
</html>